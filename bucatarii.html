<!DOCTYPE html>
<html lang="ro" dir="ltr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Bucătarii noștri — Bucătarul Personal</title>
<meta name="description" content="Alege din bucătari verificați: rating, oraș, specialități, prețuri și disponibilitate.">
<meta name="color-scheme" content="light dark">
<meta name="theme-color" content="#0e5a43" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#0a2d22" media="(prefers-color-scheme: dark)">
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<style>
:root{
  --brand:#0e5a43; --brand-2:#0b4a36; --ink:#182422; --muted:#6b7477; --line:#e6ece8; --card:#fff; --soft:#f6fbf8;
  --max:1160px; --shadow:0 14px 36px rgba(16,24,40,.08); --rad:18px; --pad:clamp(12px,4vw,24px)
}
@media(prefers-color-scheme:dark){
  :root{ --ink:#e9efed; --muted:#a7b2ae; --line:#22332c; --card:#0f1413; --soft:#0f1715; --shadow:0 22px 60px rgba(0,0,0,.45) }
  body{background:#0a0f0e}
}
*{box-sizing:border-box} body{margin:0;color:var(--ink);background:#fff;font:400 16px/1.7 Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif}
a{text-decoration:none;color:inherit} img{max-width:100%;display:block}

header{position:sticky;top:0;z-index:60;background:rgba(14,90,67,.94);backdrop-filter:saturate(180%) blur(12px);color:#fff;border-bottom:1px solid color-mix(in oklab, #fff 12%, transparent)}
.nav{max-width:var(--max);margin:0 auto;padding:12px var(--pad);display:flex;gap:12px;align-items:center}
.nav a{color:#fff;font-weight:800}
.spacer{flex:1}
.burger{display:none;margin-left:auto;border:1px solid rgba(255,255,255,.25);background:transparent;color:#fff;border-radius:12px;width:42px;height:42px;font-size:22px}
@media(max-width:880px){ .nav a[href="/blog.html"], .nav a[href="/#formular"]{display:none} .burger{display:inline-grid;place-items:center} }
/* Drawer */
.drawer{position:fixed;inset:0;background:rgba(0,0,0,.32);backdrop-filter:blur(2px);display:none;z-index:90}
.drawer.open{display:block}
.sheet{position:absolute;right:0;top:0;height:100%;width:min(420px,92%);background:var(--card);border-left:1px solid var(--line);box-shadow:var(--shadow);display:flex;flex-direction:column}
.sheet .head{display:flex;align-items:center;gap:10px;padding:12px 16px;border-bottom:1px solid var(--line)}
.links{display:grid;gap:8px;padding:16px}
.links a{padding:12px;border:1px solid var(--line);border-radius:12px;font-weight:700}
.close-x{margin-left:auto;border:1px solid var(--line);background:transparent;border-radius:12px;width:40px;height:40px;font-size:20px}

/* Hero */
.wrap{max-width:var(--max);margin:0 auto;padding:0 var(--pad)}
.hero{padding:clamp(44px,8vw,88px) 0;background:
  radial-gradient(1200px 1200px at 50% -20%, rgba(14,90,67,.06), transparent 60%),
  linear-gradient(180deg,#f3faf6,#ffffff00)}
h1{font-family:"Playfair Display",serif;font-size:clamp(30px,6vw,56px);line-height:1.06;margin:0 0 8px;color:#0e382d}
.hero p{color:var(--muted);max-width:820px}

/* Toolbar filtre */
.tools{position:sticky;top:74px;z-index:50;background:var(--card);border:1px solid var(--line);border-radius:16px;box-shadow:var(--shadow);padding:12px;margin-bottom:14px}
.filters{display:grid;grid-template-columns:2fr 1fr 1fr 1fr auto;gap:10px;align-items:center}
@media(max-width:980px){.filters{grid-template-columns:1fr 1fr 1fr;}}
@media(max-width:640px){.filters{grid-template-columns:1fr;}}
input[type="search"], select{padding:10px 12px;border:1px solid var(--line);border-radius:12px;background:#fff}
@media(prefers-color-scheme:dark){input,select{background:#0f1413}}
.range{display:flex;gap:10px;align-items:center}
.badge{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#fff;color:#184236;font-weight:800;font-size:12px}

/* Grid carduri */
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
@media(max-width:1080px){.grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:680px){.grid{grid-template-columns:1fr}}
.card{background:var(--card);border:1px solid var(--line);border-radius:18px;overflow:hidden;box-shadow:var(--shadow);display:grid;grid-template-rows:auto 1fr auto}
.media{aspect-ratio:4/3;background:#eaf3ef}
.media img{width:100%;height:100%;object-fit:cover}
.body{padding:14px;display:grid;gap:8px}
.name{display:flex;align-items:center;gap:8px}
.name strong{font-family:"Playfair Display",serif;color:#0e382d;font-size:20px}
.city{color:#6b7a74;font-size:14px}
.tags{display:flex;gap:6px;flex-wrap:wrap}
.tag{display:inline-block;font-size:12px;padding:6px 10px;border:1px solid var(--line);border-radius:999px;color:#184236;background:#fff}
.stars{display:flex;gap:2px}
.stars svg{width:16px;height:16px;fill:#f59e0b}
.meta{display:flex;gap:10px;flex-wrap:wrap;color:#5e6a6f;font-size:13px}
.foot{display:flex;justify-content:space-between;align-items:center;border-top:1px solid var(--line);padding:12px}
.btn{display:inline-block;padding:10px 14px;border-radius:999px;border:1px solid var(--brand);font-weight:800;min-height:44px}
.btn.primary{background:var(--brand);color:#fff;border-color:transparent}
.btn.ghost{background:#fff;color:var(--brand)}
.fav{border:1px solid var(--line);background:#fff;border-radius:12px;width:40px;height:40px;display:grid;place-items:center;cursor:pointer}
.fav svg{width:18px;height:18px}
.fav.active svg{fill:#ef4444}

/* Paginare simplă */
.pager{display:flex;gap:8px;justify-content:center;margin:16px 0}
.pager button{padding:10px 14px;border-radius:12px;border:1px solid var(--line);background:var(--card);font-weight:800}

/* Modal profil */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(2px);display:none;align-items:center;justify-content:center;padding:16px;z-index:120}
.modal.open{display:flex}
.sheet-md{width:min(980px,96vw);background:var(--card);border:1px solid var(--line);border-radius:18px;box-shadow:var(--shadow);overflow:hidden}
.pro{display:grid;grid-template-columns:1.2fr 1fr;gap:0}
@media(max-width:980px){.pro{grid-template-columns:1fr}}
.pro .gal{background:#eaf3ef}
.pro .gal img{width:100%;height:100%;object-fit:cover;aspect-ratio:4/3}
.pro .bio{padding:16px;display:grid;gap:10px}
.pro h3{margin:0;color:#0e382d;font-family:"Playfair Display",serif}
.close-md{position:absolute;right:18px;top:18px;border:1px solid var(--line);background:#fff;border-radius:12px;width:42px;height:42px;font-size:22px}

/* Helpers */
.sr{position:absolute;left:-9999px}
</style>
</head>
<body>

<header>
  <div class="nav">
    <a href="/">Bucătarul Personal</a>
    <div class="spacer"></div>
    <a href="/blog.html">Blog</a>
    <a href="/#formular">Comandă</a>
    <button class="burger" id="burger" aria-label="Meniu">☰</button>
  </div>
</header>

<!-- Drawer mobil -->
<div class="drawer" id="drawer" aria-hidden="true">
  <div class="sheet" role="dialog" aria-modal="true" aria-label="Meniu">
    <div class="head"><strong>Bucătarul Personal</strong>
      <button class="close-x" id="closeDrawer" aria-label="Închide">✕</button>
    </div>
    <nav class="links">
      <a href="/">Acasă</a>
      <a href="/bucatarii.html">Bucătarii</a>
      <a href="/blog.html">Blog</a>
      <a href="/#formular">Comandă</a>
    </nav>
  </div>
</div>

<section class="hero">
  <div class="wrap">
    <h1>Bucătarii noștri</h1>
    <p>Alege din chefi verificați, cu <strong>contract & factură</strong>, rating transparent și meniuri personalizate. Filtrează după oraș, bucătărie, preț și experiență.</p>
  </div>
</section>

<section class="wrap">
  <!-- Toolbar filtre -->
  <div class="tools" role="region" aria-label="Filtre">
    <form id="filters" class="filters">
      <input id="q" type="search" placeholder="Caută nume / oraș / specialitate…" autocomplete="off" />
      <select id="city">
        <option value="">Toate orașele</option>
      </select>
      <select id="cuisine">
        <option value="">Toate bucătăriile</option>
      </select>
      <select id="sort">
        <option value="best">Sortează: Rating desc</option>
        <option value="price_asc">Preț: crescător</option>
        <option value="price_desc">Preț: descrescător</option>
        <option value="exp_desc">Experiență: mare → mic</option>
      </select>
      <div class="range">
        <label class="badge" for="stars">Min. ⭐</label>
        <input id="stars" type="range" min="0" max="5" step="0.5" value="0" style="width:120px">
        <span id="starsVal" class="badge">0.0</span>
      </div>
    </form>
  </div>

  <!-- Grid carduri -->
  <div id="grid" class="grid" aria-live="polite"></div>

  <div class="pager" id="pager"></div>
</section>

<!-- MODAL PROFIL -->
<div id="modal" class="modal" aria-hidden="true">
  <div class="sheet-md">
    <button class="close-md" id="closeModal" aria-label="Închide">✕</button>
    <div class="pro">
      <div class="gal" id="gal"></div>
      <div class="bio">
        <h3 id="m-name">Chef</h3>
        <div class="stars" id="m-stars" aria-label="Rating"></div>
        <div id="m-meta" class="meta"></div>
        <p id="m-bio"></p>
        <div id="m-tags" class="tags"></div>
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <a id="m-hire" class="btn primary" href="/blog/contul.html#formular">Vreau acest chef</a>
          <a id="m-wa" class="btn ghost" target="_blank" rel="noopener">Întreabă pe WhatsApp</a>
        </div>
      </div>
    </div>
  </div>
</div>

<footer class="wrap" style="color:var(--muted);text-align:center;border-top:1px solid var(--line);margin-top:28px;padding:16px 0">© <span id="year"></span> Bucătarul Personal</footer>

<script>
// ====== DATE DEMO (poți încărca și din /chefs.json) ======
const CHEFS = [
  {
    id:"andrei", name:"Chef Andrei", city:"București", cuisines:["Mediteraneană","Steak"], rating:4.9, reviews:132,
    priceFrom:220, expYears:9,
    avatar:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=1200&auto=format&fit=crop",
    gallery:[
      "https://images.unsplash.com/photo-1533777324565-a040eb52fac1?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1541542684-4a9c0a7e9f3b?q=80&w=1600&auto=format&fit=crop"
    ],
    bio:"Fine dining, focus pe ingrediente românești reinterpretate. Meniuri în 5–7 feluri, pairing cu vinuri locale."
  },
  {
    id:"elisa", name:"Chef Elisa", city:"Cluj-Napoca", cuisines:["Italiană","Seafood","Pasta"], rating:5, reviews:84,
    priceFrom:200, expYears:7,
    avatar:"https://images.unsplash.com/photo-1551218808-94e220e084d2?q=80&w=1200&auto=format&fit=crop",
    gallery:[
      "https://images.unsplash.com/photo-1512058564366-18510be2db19?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1526318472351-c75fcf070305?q=80&w=1600&auto=format&fit=crop"
    ],
    bio:"Pasta de casă, pește & fructe de mare. Meniu sezonier, plating luminos, eleganță modernă."
  },
  {
    id:"radu", name:"Chef Radu", city:"Timișoara", cuisines:["BBQ","Corporate"], rating:4.7, reviews:210,
    priceFrom:170, expYears:11,
    avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=1200&auto=format&fit=crop",
    gallery:[
      "https://images.unsplash.com/photo-1526366003456-b6c1f1b4d3d2?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1526318472351-c75fcf070305?q=80&w=1600&auto=format&fit=crop"
    ],
    bio:"BBQ & live fire. Evenimente mari, echipă completă, timpi rapizi de producție."
  },
  {
    id:"ioana", name:"Chef Ioana", city:"Brașov", cuisines:["Vegetariană","Fusion"], rating:4.8, reviews:96,
    priceFrom:180, expYears:6,
    avatar:"https://images.unsplash.com/photo-1544025162-d76694265947?q=80&w=1200&auto=format&fit=crop",
    gallery:["https://images.unsplash.com/photo-1546549037-2fa319e6a384?q=80&w=1600&auto=format&fit=crop"],
    bio:"Vegetarian modern & fusion cu influențe asiatice. Mâncare vibrantă, colorată, nutritivă."
  },
  {
    id:"mihai", name:"Chef Mihai", city:"Iași", cuisines:["Tradițională","Panificație"], rating:4.6, reviews:64,
    priceFrom:150, expYears:8,
    avatar:"https://images.unsplash.com/photo-1589182373726-e4f658ab50f0?q=80&w=1200&auto=format&fit=crop",
    gallery:["https://images.unsplash.com/photo-1543772514-7e0a15f4d72b?q=80&w=1600&auto=format&fit=crop"],
    bio:"Bucătărie românească rafinată și pâine cu maia. Focus pe sezonalitate."
  }
];

// ====== UTILS ======
const $ = s => document.querySelector(s);
const $$ = s => [...document.querySelectorAll(s)];
const fmtMoney = n => new Intl.NumberFormat('ro-RO').format(n);

// Stars
function Stars(r){
  const full = Math.floor(r||0);
  const half = (r - full) >= 0.5;
  let html = '';
  for(let i=0;i<full;i++) html += '<svg viewBox="0 0 24 24"><path d="M12 17.3 5.8 21l1.7-7.2L2 8.9l7.4-.6L12 1.8l2.6 6.5 7.4.6-5.5 4.9L18.2 21z"/></svg>';
  if(half) html += '<svg viewBox="0 0 24 24"><defs><linearGradient id="g"><stop offset="50%" stop-color="#f59e0b"/><stop offset="50%" stop-color="transparent"/></linearGradient></defs><path fill="url(#g)" stroke="#f59e0b" stroke-width="2" d="m12 2.3 2.4 5.9 6.4.6-4.8 4.3 1.3 6.1L12 16.7l-5.3 2.5 1.3-6.1L3.2 8.8l6.4-.6L12 2.3Z"/></svg>';
  for(let i=(html.match(/<svg/g)||[]).length;i<5;i++) html += '<svg viewBox="0 0 24 24"><path fill="none" stroke="#f59e0b" stroke-width="2" d="m12 2.3 2.4 5.9 6.4.6-4.8 4.3 1.3 6.1L12 16.7l-5.3 2.5 1.3-6.1L3.2 8.8l6.4-.6L12 2.3Z"/></svg>';
  return html;
}

// ====== STATE ======
const state = {
  q:'', city:'', cuisine:'', sort:'best', minStars:0,
  page:1, perPage:9,
  favs: new Set(JSON.parse(localStorage.getItem('bp_favs')||'[]'))
};

// ====== RENDER ======
const grid = $('#grid'), pager = $('#pager');

function card(chef){
  const isFav = state.favs.has(chef.id);
  return `<article class="card" data-id="${chef.id}">
    <div class="media"><img loading="lazy" decoding="async" src="${chef.avatar}" alt="Portret ${chef.name}"></div>
    <div class="body">
      <div class="name">
        <strong>${chef.name}</strong>
        <button class="fav ${isFav?'active':''}" aria-label="Favorite" data-fav="${chef.id}">
          <svg viewBox="0 0 24 24"><path d="M12 21s-7.7-4.4-9.5-8.8C1.3 8.4 3.1 6 5.8 6c2 0 3.2 1.3 4.2 2.4C11 7.3 12.2 6 14.2 6c2.7 0 4.5 2.4 3.3 6.2C19.7 16.6 12 21 12 21z"/></svg>
        </button>
      </div>
      <div class="city">${chef.city} • de la <strong>${fmtMoney(chef.priceFrom)}</strong> lei/pers</div>
      <div class="stars" aria-label="${chef.rating} din 5 stele" title="${chef.rating}/5">
        ${Stars(chef.rating)} <span style="margin-left:6px;color:#6b7a74;font-size:13px">(${chef.reviews})</span>
      </div>
      <div class="tags">${chef.cuisines.map(t=>`<span class="tag">${t}</span>`).join('')}</div>
      <div class="meta"><span>Experiență: ${chef.expYears} ani</span></div>
    </div>
    <div class="foot">
      <a class="btn ghost" href="#!" data-view="${chef.id}">Profil</a>
      <a class="btn primary" href="/blog/contul.html#formular">Vreau acest chef</a>
    </div>
  </article>`;
}

function paginate(items){
  const start = (state.page-1)*state.perPage;
  return items.slice(start, start+state.perPage);
}

function render(){
  // filtre
  let list = CHEFS.filter(c=>{
    if(state.city && c.city!==state.city) return false;
    if(state.cuisine && !c.cuisines.includes(state.cuisine)) return false;
    if(state.minStars && (c.rating||0) < state.minStars) return false;
    if(state.q){
      const q = state.q.toLowerCase();
      const hay = `${c.name} ${c.city} ${c.cuisines.join(' ')} ${c.bio}`.toLowerCase();
      if(!hay.includes(q)) return false;
    }
    return true;
  });
  // sort
  list.sort((a,b)=>{
    switch(state.sort){
      case 'price_asc': return a.priceFrom - b.priceFrom;
      case 'price_desc': return b.priceFrom - a.priceFrom;
      case 'exp_desc': return b.expYears - a.expYears;
      case 'best':
      default: return (b.rating||0) - (a.rating||0);
    }
  });

  // paginare
  const total = list.length;
  const pages = Math.max(1, Math.ceil(total/state.perPage));
  if(state.page>pages) state.page=pages;
  const pageItems = paginate(list);

  grid.innerHTML = pageItems.map(card).join('') || `<div class="badge">Nu am găsit bucătari pentru filtrul ales.</div>`;

  // pager
  pager.innerHTML = '';
  if(pages>1){
    const btn = (p, label=String(p), dis=false)=>`<button ${dis?'disabled':''} data-page="${p}">${label}</button>`;
    pager.innerHTML = btn(Math.max(1,state.page-1),'‹')+
      Array.from({length:pages},(_,i)=> btn(i+1)).join('')+
      btn(Math.min(pages,state.page+1),'›');
    // active style
    $$('#pager button').forEach(b=>{ if(Number(b.dataset.page)===state.page) b.style.outline=`2px solid var(--brand)`; });
  }
}

// ====== POPULARE SELECT-URI ======
(function initFilters(){
  const cities = Array.from(new Set(CHEFS.map(c=>c.city))).sort();
  const cuisines = Array.from(new Set(CHEFS.flatMap(c=>c.cuisines))).sort();
  const citySel = $('#city'), cuisineSel = $('#cuisine');
  cities.forEach(c=> citySel.insertAdjacentHTML('beforeend', `<option>${c}</option>`));
  cuisines.forEach(t=> cuisineSel.insertAdjacentHTML('beforeend', `<option>${t}</option>`));
})();

// ====== EVENIMENTE ======
$('#q').addEventListener('input', e=>{ state.q=e.target.value; state.page=1; render(); });
$('#city').addEventListener('change', e=>{ state.city=e.target.value; state.page=1; render(); });
$('#cuisine').addEventListener('change', e=>{ state.cuisine=e.target.value; state.page=1; render(); });
$('#sort').addEventListener('change', e=>{ state.sort=e.target.value; render(); });
$('#stars').addEventListener('input', e=>{ state.minStars=Number(e.target.value); $('#starsVal').textContent=state.minStars.toFixed(1); state.page=1; render(); });
$('#pager').addEventListener('click', e=>{ const b=e.target.closest('button'); if(!b) return; state.page=Number(b.dataset.page); render(); });

grid.addEventListener('click', e=>{
  // favorite
  const fav = e.target.closest('[data-fav]'); if(fav){ const id=fav.dataset.fav;
    if(state.favs.has(id)) state.favs.delete(id); else state.favs.add(id);
    localStorage.setItem('bp_favs', JSON.stringify([...state.favs])); render(); return;
  }
  // profil
  const view = e.target.closest('[data-view]'); if(view){ openModal(view.dataset.view); }
});

// ====== MODAL PROFIL ======
const modal = $('#modal'), closeModalBtn = $('#closeModal');
function openModal(id){
  const c = CHEFS.find(x=>x.id===id); if(!c) return;
  $('#gal').innerHTML = (c.gallery&&c.gallery.length? c.gallery : [c.avatar]).map(src=>`<img loading="lazy" decoding="async" src="${src}" alt="Galerie ${c.name}">`).join('');
  $('#m-name').textContent=c.name;
  $('#m-stars').innerHTML=Stars(c.rating)+'<span style="margin-left:6px;color:#6b7a74;font-size:13px">('+c.reviews+')</span>';
  $('#m-meta').innerHTML=`${c.city} • de la <strong>${fmtMoney(c.priceFrom)}</strong> lei/pers • ${c.expYears} ani experiență`;
  $('#m-bio').textContent=c.bio||'';
  $('#m-tags').innerHTML=c.cuisines.map(t=>`<span class="tag">${t}</span>`).join('');
  $('#m-hire').href='/blog/contul.html#formular';
  const waText = encodeURIComponent(`Salut! Aș dori o ofertă pentru ${c.name} (${c.city})`);
  $('#m-wa').href=`https://wa.me/40772893476?text=${waText}`;
  modal.classList.add('open'); modal.setAttribute('aria-hidden','false');
  document.body.style.overflow='hidden';
}
function closeModal(){ modal.classList.remove('open'); modal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }
$('#modal').addEventListener('click', e=>{ if(e.target===modal) closeModal(); });
closeModalBtn.addEventListener('click', closeModal);
document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeModal(); });

// ====== DRAWER MOBIL ======
(function(){
  const body=document.body, d=$('#drawer'), b=$('#burger'), x=$('#closeDrawer');
  const open=()=>{d.classList.add('open'); body.style.overflow='hidden'};
  const close=()=>{d.classList.remove('open'); body.style.overflow=''};
  b?.addEventListener('click',open); x?.addEventListener('click',close);
  d?.addEventListener('click',e=>{ if(e.target===d) close(); });
  document.addEventListener('keydown',e=>{ if(e.key==='Escape') close(); });
})();

// ====== INIT ======
document.getElementById('year').textContent = new Date().getFullYear();
$('#starsVal').textContent = Number($('#stars').value).toFixed(1);
render();
</script>
</body>
</html>

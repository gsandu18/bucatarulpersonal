<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contul meu | Bucătarul Personal</title>
  <meta name="description" content="Autentificare pentru clienți și înregistrare ca bucătar pe Bucătarul Personal."/>
  <link rel="canonical" href="https://www.bucatarulpersonal.ro/cont.html" />
  <meta property="og:title" content="Contul meu" />
  <meta property="og:description" content="Intră în cont sau înregistrează-te ca bucătar." />
  <meta property="og:url" content="https://www.bucatarulpersonal.ro/cont.html" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://www.bucatarulpersonal.ro/static/og-bucatarul-personal.jpg" />
  <meta name="theme-color" content="#0e5a43" />

  <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">
  <link rel="mask-icon" href="/static/safari-pinned-tab.svg" color="#0e5a43">
  <link rel="manifest" href="/site.webmanifest">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkfcbZlfrX+qGIGlG4XkGUCZ3G1xZPlhQ4KJIpKj8GQ4ZC0YJwY9QYx5w==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
  <style>
    :root{ --rubin:#0e5a43; --negru:#000; --alb:#fff; --gri-1:#f5f7f8; --gri-2:#e8ecee; --gri-3:#cfd6da; --text:#1c2226; --shadow:0 16px 48px rgba(0,0,0,.16); --radius-xl:22px; --radius-lg:16px; --radius-md:12px; }
    *{box-sizing:border-box} html,body{margin:0} body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--text);background:#fff;line-height:1.45}
    a{color:inherit;text-decoration:none} img{max-width:100%;display:block}
    .container{width:min(1160px,92%);margin:0 auto}

    header{position:sticky;top:0;z-index:40;background:rgba(255,255,255,.75);backdrop-filter:blur(10px);border-bottom:1px solid var(--gri-2)}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
    .nav-links{display:flex;gap:22px;align-items:center}
    .brand-logo-img{height:52px}
    @media(max-width:980px){.nav-links{display:none}.brand-logo-img{height:42px}}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 18px;border-radius:999px;border:1px solid var(--gri-3);font-weight:700;background:#fff}
    .btn-primary{background:var(--rubin);color:#fff;border-color:transparent}
    .btn-ghost{background:#fff}
    .burger{display:none;width:42px;height:42px;border-radius:12px;border:1px solid var(--gri-3);align-items:center;justify-content:center}
    @media(max-width:980px){.burger{display:flex}}
    .mobile{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(4px);display:none}
    .mobile.active{display:block}
    .sheet{position:absolute;right:0;top:0;height:100%;width:min(420px,92%);background:#fff;padding:22px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:16px}
    .sheet a{padding:12px 8px;border-bottom:1px solid var(--gri-2);font-weight:600}

    main{padding:42px 0}
    h1{font-family:"Playfair Display",serif;font-size:clamp(30px,5vw,48px);margin:0 0 10px}
    .muted{color:#58636b}

    .grid{display:grid;grid-template-columns:1fr 1fr;gap:22px;margin-top:18px}
    @media(max-width:980px){.grid{grid-template-columns:1fr}}
    .card{border:1px solid var(--gri-2);border-radius:20px;overflow:hidden;background:#fff;box-shadow:var(--shadow)}
    .card .hd{padding:16px 18px;border-bottom:1px solid var(--gri-2);display:flex;align-items:center;gap:10px}
    .card .bd{padding:18px}
    label{font-size:14px;font-weight:700;color:#3a444b}
    input,select,textarea{width:100%;padding:12px 14px;border-radius:12px;border:1px solid var(--gri-3);background:#fbfcfc}
    .form-row{display:grid;grid-template-columns:1fr;gap:12px}
    .tips{background:linear-gradient(135deg,#ffffff,#f6fbf8);border:1px dashed var(--rubin);border-radius:16px;padding:14px;color:#334}
    .hl{background:rgba(14,90,67,.1);border:1px solid rgba(14,90,67,.25);padding:6px 10px;border-radius:999px;font-weight:700}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <a href="/" aria-label="Acasă"><img class="brand-logo-img" src="/static/logo-bucatarul-personal.png" alt="Bucătarul Personal"/></a>
      <nav class="nav-links">
        <a href="despre-noi.html">Despre noi</a>
        <a href="bucatarii.html">Bucătarii Noștri</a>
        <a href="servicii.html">Servicii</a>
        <a href="blog.html">Blog</a>
        <a href="contact.html">Contact</a>
        <a href="contul.html" class="btn-ghost" aria-current="page"><i class="fa-solid fa-user"></i> Contul meu</a>
        <a href="contact.html" class="btn btn-primary"><i class="fa-solid fa-utensils"></i> VREAU UN BUCĂTAR</a>
      </nav>
      <button class="burger" id="bp-burger" aria-label="Deschide meniul"><i class="fa-solid fa-bars"></i></button>
    </div>
    <div class="mobile" id="bp-mobile" aria-hidden="true">
      <div class="sheet" role="dialog" aria-modal="true" aria-label="Meniu principal">
        <div style="display:flex; justify-content:space-between; align-items:center">
          <div style="display:flex; align-items:center; gap:10px"><img class="brand-logo-img" src="/static/logo-bucatarul-personal.png" alt="Logo" style="height:38px"/><strong>Bucătarul Personal</strong></div>
          <button class="btn" id="bp-close"><i class="fa-solid fa-xmark"></i> Închide</button>
        </div>
        <a href="despre-noi.html">Despre noi</a>
        <a href="bucatarii.html">Bucătarii noștri</a>
        <a href="servicii.html">Servicii</a>
        <a href="blog.html">Blog</a>
        <a href="contact.html">Contact</a>
        <a href="contul.html" class="btn-ghost"><i class="fa-solid fa-user"></i> Contul meu</a>
        <a href="contact.html" class="btn btn-primary"><i class="fa-solid fa-utensils"></i> Rezervă bucătar</a>
      </div>
    </div>
  </header>

  <main class="container">
    <h1>Contul meu</h1>
    <p class="muted">Alege una dintre opțiuni:</p>

   <?php
if ($_SERVER["REQUEST_METHOD"] !== "POST") { http_response_code(405); exit("Cerere invalidă."); }

function field($k){ return isset($_POST[$k]) ? trim($_POST[$k]) : ''; }

$nume = htmlspecialchars(field('nume'));
$email = htmlspecialchars(field('email'));
$telefon = htmlspecialchars(field('telefon'));
$oras = htmlspecialchars(field('oras'));
$specializari = htmlspecialchars(field('specializari'));
$portofoliu = htmlspecialchars(field('portofoliu'));

if ($nume === '' || $email === '') { exit("Nume și Email sunt obligatorii."); }

// 1) Salvare CSV
$csvPath = __DIR__ . '/bucatari_aplicanti.csv';
$fp = fopen($csvPath, 'a');
fputcsv($fp, [$nume, $email, $telefon, $oras, $specializari, $portofoliu, date("Y-m-d H:i:s")]);
fclose($fp);

// 2) Email HTML
$to = "contact@bucatarulpersonal.ro";
$subject = "✅ Cerere nouă bucătar: $nume";
$headers  = "MIME-Version: 1.0\r\n";
$headers .= "Content-type: text/html; charset=UTF-8\r\n";
$headers .= "From: Bucatarul Personal <no-reply@bucatarulpersonal.ro>\r\n";
$headers .= "Reply-To: $email\r\n";
$message = "<html><body style='font-family:Arial,sans-serif'>
<h2 style='color:#0e5a43;margin:0 0 10px'>Cerere nouă de înregistrare</h2>
<p><strong>Nume:</strong> {$nume}</p>
<p><strong>Email:</strong> {$email}</p>
<p><strong>Telefon:</strong> {$telefon}</p>
<p><strong>Oraș:</strong> {$oras}</p>
<p><strong>Specializări:</strong> {$specializari}</p>
<p><strong>Portofoliu:</strong> {$portofoliu}</p>
<p style='color:#777'><em>Trimis la:</em> ".date("Y-m-d H:i:s")."</p>
</body></html>";
@mail($to, $subject, $message, $headers, "-f no-reply@bucatarulpersonal.ro");

// 3) Redirect la pagina de succes cu rezumat (ATENȚIE: succes.html, nu success)
$q = http_build_query([
  'nume'    => $nume,
  'email'   => $email,
  'telefon' => $telefon,
  'oras'    => $oras
]);
header("Location: succes.html?$q");
exit;

  <footer>
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;padding:24px 0;border-top:1px solid var(--gri-2);color:#667">
      <small>© <span id="bp-year"></span> Bucătarul Personal</small>
      <a href="https://wa.me/40772893476" target="_blank" class="btn" style="background:#25D366;color:#fff;border-color:transparent"><i class="fa-brands fa-whatsapp"></i> 0772 893 476</a>
    </div>
  </footer>

  <script>
    // Izolare pentru a evita variabile globale sau redeclarări (ex: burger)
    (() => {
      const qs = (s, r=document) => r.querySelector(s);

      // Header mobil sigur
      const burger = document.getElementById('bp-burger');
      const mobile = document.getElementById('bp-mobile');
      const closeBtn = document.getElementById('bp-close');
      const yearEl = document.getElementById('bp-year');
      if (yearEl) yearEl.textContent = new Date().getFullYear();
      if (burger && mobile && closeBtn && mobile.dataset.bound !== '1'){
        mobile.dataset.bound = '1';
        const open = () => mobile.classList.add('active');
        const close = () => mobile.classList.remove('active');
        burger.addEventListener('click', open);
        closeBtn.addEventListener('click', close);
        mobile.addEventListener('click', e=>{ if(e.target === mobile) close(); });
        mobile.querySelectorAll('.sheet a').forEach(a=>a.addEventListener('click', close));
        document.addEventListener('keydown', e=>{ if(e.key==='Escape') close(); });
      }

      // Validări simple + demo submit
      function toast(msg){ alert(msg); }

      qs('#form-login')?.addEventListener('submit', (e)=>{
        e.preventDefault();
        const email = qs('#login-email').value.trim();
        const pass = qs('#login-pass').value.trim();
        if(!email || !pass){ toast('Completează email și parolă'); return; }
        toast('Autentificare trimisă. (demo)');
      });

      qs('#form-chef')?.addEventListener('submit', (e)=>{
        e.preventDefault();
        const required = ['#chef-nume','#chef-email','#chef-telefon','#chef-oras','#chef-spec'];
        for (const sel of required){ if(!qs(sel).value.trim()){ toast('Te rugăm să completezi toate câmpurile obligatorii.'); return; } }
        toast('Aplicația ta a fost trimisă. Te contactăm pe email! (demo)');
      });

      // Teste rapide (opțional)
      function assert(c,m){ if(!c) throw new Error('TEST FAIL: '+m); console.log('TEST OK:', m); }
      window.BP_ACCOUNT = { run: () => { try {
        assert(!!qs('#form-login'), 'formular login există');
        assert(!!qs('#form-chef'), 'formular chef există');
        console.log('[Cont] teste trecute ✅');
      } catch(e){ console.error(e); } } };
    })();
  </script>
</body>
</html>

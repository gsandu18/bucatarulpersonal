<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bucătarul Personal — AI Nutriție & Nutriționist</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0c1512; --panel:#0f1d18; --line:#2a3a34; --line2:#1b2b25;
  --verde:#11a37f; --verde-2:#0c8a6b; --aur:#c9a227;
  --text:#e9f4ef; --muted:#b7c8c2; --max:1180px; --r:16px;
  --shadow:0 16px 40px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{margin:0}
body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
a{color:inherit;text-decoration:none}
.container{max-width:1180px;margin:0 auto;padding:0 20px}
.title{font-family:"Playfair Display",serif}

/* ---------- Responsive tipografie ---------- */
h1.title{font-size:clamp(28px,6.5vw,48px);line-height:1.12}
h2.title{font-size:clamp(22px,4.4vw,34px)}
p{font-size:clamp(15px,2.6vw,17px)}
img{max-width:100%;height:auto}
.card{border-radius:16px;overflow:hidden}

/* ---------- Header sticky (push-down nav) ---------- */
header{position:sticky;top:0;z-index:40;background:rgba(12,21,18,.8);backdrop-filter:blur(10px);border-bottom:1px solid var(--line2)}
.nav{height:64px;display:flex;align-items:center;justify-content:space-between}
.logo{display:flex;gap:10px;align-items:center;font-weight:800;white-space:nowrap}
.logo .mark{width:34px;height:34px;border-radius:10px;background:linear-gradient(135deg,#0e5a43,#0a4a35);border:2px solid var(--aur);display:grid;place-items:center;color:#fff}
.menu-toggle{display:none;background:none;border:0;font-size:26px;color:var(--text);padding:10px}
.navlinks{display:flex;gap:22px}
.navlinks a{font-weight:600;opacity:.9}
.navlinks a:hover{opacity:1}

/* push-down pe mobil */
@media (max-width:768px){
  .menu-toggle{display:block;margin-left:auto}
  .nav{flex-wrap:wrap;align-items:center}
  .navlinks{
    display:none;width:100%;flex-direction:column;gap:12px;
    padding:10px 0;border-top:1px solid var(--line2);background:#0f1d18
  }
  .navlinks.show{display:flex}
}

/* offset ancore (nu se ascund sub header) */
[id]{scroll-margin-top:78px}

/* ---------- Hero ---------- */
.hero{position:relative;min-height:60vh;display:grid;place-items:center;border-bottom:1px solid var(--line2);padding:56px 0 32px}
.hero::before{
  content:"";position:absolute;inset:0;
  background:url('https://images.unsplash.com/photo-1512621776951-a57141f2eefd?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;
  filter:grayscale(.2) brightness(.35) contrast(1.1);
}
.hero .inner{position:relative;z-index:1;text-align:center;padding:64px 0}
.hero p{color:var(--muted);max-width:760px;margin:0 auto}
.hero .cta{margin-top:18px;display:flex;gap:12px;justify-content:center;flex-wrap:wrap}

/* ---------- Buttons ---------- */
.btn{display:inline-flex;align-items:center;gap:10px;min-height:44px;padding:14px 18px;border-radius:12px;border:1px solid transparent;font-weight:800;cursor:pointer}
.btn-primary{background:var(--verde);color:#05110e}
.btn-primary:hover{background:var(--verde-2)}
.btn-ghost{border:1px solid var(--verde);color:#e9f4ef;background:transparent}

/* ---------- Sections / grids ---------- */
.section{padding:56px 0}
.soft{background:linear-gradient(180deg,#0c1613,#0d1915)}
.card{background:linear-gradient(180deg,var(--panel),#0b1915);border:1px solid var(--line2);box-shadow:var(--shadow)}
.grid{display:grid;gap:18px}
.grid-2{grid-template-columns:1fr 1fr}
.grid-3{grid-template-columns:repeat(3,1fr)}
@media (max-width:980px){ .grid-2{grid-template-columns:1fr} .grid-3{grid-template-columns:1fr 1fr} }
@media (max-width:640px){ .grid-3{grid-template-columns:1fr} }

/* pricing cards coerente */
.pricing .card{display:flex;flex-direction:column;justify-content:space-between}

/* ---------- Footer ---------- */
footer{background:#09110f;border-top:1px solid var(--line2);color:#a9c4bc;padding:36px 0}
footer a{color:#cfe9e2}
footer .container{display:flex;justify-content:space-between;gap:20px;flex-wrap:wrap}
footer .logo{font-size:14px;opacity:.85}
footer .logo .mark{width:28px;height:28px;border:1px solid var(--aur)}

/* ---------- Modal AI – dark + animație + acces ---------- */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.55);padding:20px;z-index:1000;backdrop-filter:blur(6px)}
.modal.show{display:flex}
.dialog{background:#0f1d18;border:1px solid var(--line);border-radius:16px;box-shadow:0 18px 40px rgba(0,0,0,.35);padding:22px;width:100%;max-width:820px;color:var(--text)}
@media (prefers-reduced-motion:no-preference){
  .dialog{transform:translateY(12px) scale(.98);opacity:0;transition:transform .2s ease,opacity .2s ease}
  .modal.show .dialog{transform:translateY(0) scale(1);opacity:1}
}
@media (max-width:768px){ .dialog{max-height:85vh;overflow:auto} }

.head{position:relative;padding-bottom:10px;margin-bottom:12px;border-bottom:1px solid var(--line)}
.head::after{content:"";position:absolute;left:-22px;right:-22px;bottom:-1px;height:3px;background:var(--verde);border-radius:999px}
.head h3{font-size:22px;letter-spacing:.2px;margin:0}
.close{color:var(--text);width:38px;height:38px;border-radius:10px;display:grid;place-items:center;background:transparent;border:0;cursor:pointer}
.close:hover{background:#0a1713}

.stepper{display:flex;gap:10px;margin-bottom:12px}
.stepper .dot{height:8px;flex:1;border-radius:999px;background:#213630}
.stepper .dot.active{background:var(--verde)}

.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:980px){ .row{grid-template-columns:1fr} }
label{display:block;font-weight:700;margin:8px 0 6px}
input,select,textarea{width:100%;padding:12px 14px;border:1px solid var(--line);border-radius:12px;background:#0a1713;color:var(--text);font-size:16px}
::placeholder{color:#8aa59e}
textarea{min-height:110px}
.actions{display:flex;gap:10px;justify-content:flex-end;margin-top:10px}
@media (max-width:768px){ .actions .btn{flex:1;justify-content:center} }
.badge{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border:1px solid var(--line);border-radius:999px;font-size:12px;color:var(--muted);background:#0a1713}
.field-error{border-color:#f26d6d !important;box-shadow:0 0 0 3px rgba(242,109,109,.15)}
.error-text{color:#f7b5b5;font-size:12px;margin-top:6px}

/* ---------- Toast ---------- */
#toast{position:fixed;right:20px;bottom:calc(20px + env(safe-area-inset-bottom));z-index:2000;background:#10221c;color:#dff3ea;border:1px solid var(--line);padding:12px 14px;border-radius:12px;box-shadow:0 14px 30px rgba(0,0,0,.25);opacity:0;transform:translateY(10px);transition:opacity .2s ease,transform .2s ease;display:none}
#toast.show{opacity:1;transform:translateY(0)}
</style>
</head>
<body>

<!-- ---------- Header ---------- -->
<header>
  <div class="container nav">
    <a class="logo" href="/"><span class="mark">BP</span><span>Bucătarul Personal</span></a>
    <button class="menu-toggle" aria-label="Deschide meniul" aria-expanded="false">&#9776;</button>
    <nav class="navlinks" aria-label="Primar">
      <a href="#ai">AI</a>
      <a href="#expert">Nutriționist</a>
      <a href="#preturi">Prețuri</a>
      <a href="#faq">FAQ</a>
    </nav>
  </div>
</header>

<!-- ---------- Hero ---------- -->
<section class="hero">
  <div class="container inner">
    <div class="kicker" style="color:#c9a227;text-transform:uppercase;letter-spacing:.14em;font-weight:800">AI + Expert</div>
    <h1 class="title">Meniuri personalizate cu AI & validare de la un nutriționist</h1>
    <p>Gourmet, echilibrat și adaptat obiectivelor tale. Primești PDF pe email și poți discuta 1:1 cu un specialist.</p>
    <div class="cta">
      <button class="btn btn-primary" id="openAi">Generează cu AI</button>
      <a href="#expert" class="btn btn-ghost">Vorbește cu un nutriționist</a>
    </div>
  </div>
</section>

<!-- ---------- AI (descriere) ---------- -->
<section id="ai" class="section soft">
  <div class="container grid grid-2">
    <div class="card" style="padding:22px">
      <div class="kicker" style="color:#c9a227;text-transform:uppercase;letter-spacing:.14em;font-weight:800">Cum funcționează</div>
      <h2 class="title" style="margin:6px 0 10px">Generator AI de meniuri</h2>
      <ul style="padding-left:18px;color:#b7c8c2">
        <li>Completezi profilul: alergii, preferințe, obiectiv, calorii.</li>
        <li>Meniu pe 7 zile (3–5 mese/zi) cu valori nutriționale.</li>
        <li>Primești PDF elegant + listă de cumpărături (opțional).</li>
      </ul>
      <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn btn-primary" id="openAi2">Pornește formularul</button>
        <span class="badge">Respectă alergiile</span><span class="badge">Gourmet & echilibrat</span>
      </div>
    </div>
    <div class="card" style="padding:22px">
      <h3 class="title" style="margin:0 0 8px">De ce BP?</h3>
      <ul style="padding-left:18px;color:#b7c8c2">
        <li>PDF premium și meniuri gustoase.</li>
        <li>Validare 1:1 cu nutriționist pentru cazuri complexe.</li>
        <li>Respect GDPR: date folosite strict pentru generare & comunicare.</li>
      </ul>
    </div>
  </div>
</section>

<!-- ---------- Expert ---------- -->
<section id="expert" class="section">
  <div class="container card" style="padding:22px">
    <div class="kicker" style="color:#c9a227;text-transform:uppercase;letter-spacing:.14em;font-weight:800">Consultanță 1:1</div>
    <h2 class="title" style="margin:6px 0 14px">Vorbește cu un nutriționist</h2>
    <div class="grid grid-2">
      <div>
        <p style="color:#b7c8c2">Video call 30–45 min, ajustări pe alergii, stil de viață și obiectiv. Follow-up opțional.</p>
        <ul style="padding-left:18px;color:#b7c8c2">
          <li>Ajustare meniu / intoleranțe</li>
          <li>Macro + listă cumpărături</li>
          <li>Recomandări sustenabile</li>
        </ul>
      </div>
      <div>
        <p class="badge">de la 199 RON</p>
        <a class="btn btn-ghost" href="mailto:contact@bucatarulpersonal.ro">Solicită programare</a>
      </div>
    </div>
  </div>
</section>

<!-- ---------- Prețuri ---------- -->
<section id="preturi" class="section soft">
  <div class="container pricing grid grid-3">
    <div class="card" style="padding:22px">
      <h3 class="title" style="margin:0 0 6px">AI – Basic</h3>
      <p style="font-size:28px;font-weight:800;color:#d4f7ee">0 RON</p>
      <ul style="padding-left:18px;color:#b7c8c2"><li>Meniu săptămânal PDF</li><li>1 revizie automată</li></ul>
    </div>
    <div class="card" style="padding:22px;border-top:4px solid var(--verde)">
      <h3 class="title" style="margin:0 0 6px">AI – Pro</h3>
      <p style="font-size:28px;font-weight:800;color:#d4f7ee">49 RON</p>
      <ul style="padding-left:18px;color:#b7c8c2"><li>+2 alternative</li><li>Shopping list inteligent</li><li>Batch-cooking</li></ul>
    </div>
    <div class="card" style="padding:22px">
      <h3 class="title" style="margin:0 0 6px">Nutriționist</h3>
      <p style="font-size:28px;font-weight:800;color:#d4f7ee">de la 199 RON</p>
      <ul style="padding-left:18px;color:#b7c8c2"><li>30–45 min video</li><li>Ajustări personalizate</li></ul>
    </div>
  </div>
</section>

<!-- ---------- FAQ ---------- -->
<section id="faq" class="section">
  <div class="container" style="display:grid;gap:10px">
    <details><summary><strong>Primesc valorile nutriționale?</strong></summary><p>Da, pe zi și pe porție (calorii + macro estimative) în PDF.</p></details>
    <details><summary><strong>Pot exclude alergeni?</strong></summary><p>Da. AI exclude ingredientele bifate; expertul validează și ajustează.</p></details>
    <details><summary><strong>Pot vorbi întâi cu un specialist?</strong></summary><p>Da, ne poți scrie sau programa un call din secțiunea Nutriționist.</p></details>
  </div>
</section>

<!-- ---------- Footer ---------- -->
<footer>
  <div class="container">
    <div class="logo"><span class="mark">BP</span><span>Bucătarul Personal</span></div>
    <div><strong>Contact</strong><br><a href="mailto:contact@bucatarulpersonal.ro">contact@bucatarulpersonal.ro</a></div>
    <div><strong>Legal</strong><br><a href="/termeni">Termeni & Condiții</a></div>
  </div>
</footer>

<!-- ---------- MODAL AI ---------- -->
<div class="modal" id="aiModal" role="dialog" aria-modal="true" aria-labelledby="aiTitle" style="display:none">
  <div class="dialog">
    <div class="head">
      <h3 id="aiTitle" class="title">Generează meniul tău cu AI</h3>
      <button class="close" id="closeAi" aria-label="Închide">×</button>
    </div>

    <div class="stepper"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>

    <form id="aiForm" novalidate>
      <!-- Pas 1 -->
      <div data-step="1">
        <h4 class="title" style="margin:.2rem 0 6px">1) Date de contact</h4>
        <div class="row">
          <div><label for="nume">Nume *</label><input id="nume" name="nume" required placeholder="Ex: Popescu Andrei"></div>
          <div><label for="email">Email *</label><input id="email" name="email" type="email" required placeholder="exemplu@email.com"></div>
          <div><label for="telefon">Telefon</label><input id="telefon" name="telefon" inputmode="tel" placeholder="+40 ..."></div>
          <div><label for="oras">Oraș</label><input id="oras" name="oras" placeholder="București / Milano"></div>
        </div>
      </div>

      <!-- Pas 2 -->
      <div data-step="2" hidden>
        <h4 class="title" style="margin:.2rem 0 6px">2) Profil & obiectiv</h4>
        <div class="row">
          <div><label for="sex">Sex</label><select id="sex" name="sex"><option>—</option><option>F</option><option>M</option><option>Prefer să nu spun</option></select></div>
          <div><label for="varsta">Vârstă</label><input id="varsta" name="varsta" type="number" min="10" max="100"></div>
          <div><label for="inaltime">Înălțime (cm)</label><input id="inaltime" name="inaltime" type="number" min="120" max="220"></div>
          <div><label for="greutate">Greutate (kg)</label><input id="greutate" name="greutate" type="number" min="35" max="200"></div>
          <div><label for="activitate">Activitate</label><select id="activitate" name="activitate"><option>—</option><option>Sedentar</option><option>Ușor activ</option><option>Moderate</option><option>Foarte activ</option></select></div>
          <div><label for="obiectiv">Obiectiv</label><select id="obiectiv" name="obiectiv"><option>—</option><option>Slăbire</option><option>Menținere</option><option>Masă musculară</option></select></div>
          <div><label for="calorii">Calorii/zi</label><input id="calorii" name="calorii" type="number" min="1000" max="5000" placeholder="Dacă lași gol, calculăm noi"></div>
          <div><label for="mese">Mese/zi</label><select id="mese" name="mese"><option>3</option><option>4</option><option>5</option></select></div>
        </div>
      </div>

      <!-- Pas 3 -->
      <div data-step="3" hidden>
        <h4 class="title" style="margin:.2rem 0 6px">3) Preferințe & restricții</h4>
        <div class="row">
          <div><label for="dieta">Dietă</label><select id="dieta" name="dieta"><option>Fără restricții</option><option>Vegetarian</option><option>Vegan</option><option>Keto</option><option>Low-carb</option><option>Mediteraneană</option><option>Fără gluten</option></select></div>
          <div><label for="alergii">Alergii</label><input id="alergii" name="alergii" placeholder="lactoză, arahide, crustacee"></div>
          <div><label for="nuImiPlac">Nu îmi plac</label><input id="nuImiPlac" name="nuImiPlac" placeholder="măsline, coriandru"></div>
          <div><label for="bucatarii">Bucătării preferate</label><input id="bucatarii" name="bucatarii" placeholder="italiană, românească, asiatică"></div>
        </div>
        <label class="badge" style="margin-top:8px;display:inline-flex;align-items:center">
          <input type="checkbox" id="gdpr" required style="margin-right:8px">Accept termenii & prelucrarea datelor
        </label>
      </div>

      <div class="actions">
        <button type="button" class="btn btn-ghost" id="aiPrev" disabled>Înapoi</button>
        <button type="button" class="btn btn-primary" id="aiNext">Continuă</button>
        <button type="submit" class="btn btn-primary" id="aiSubmit" hidden>Generează PDF</button>
      </div>

      <div id="aiStatus" class="badge" style="margin-top:8px;min-height:28px"></div>
    </form>
  </div>
</div>

<!-- Toast -->
<div id="toast" role="status" aria-live="polite" aria-atomic="true"></div>

<script>
/* Header padding dinamic (evită overlap pe toate device-urile) */
(function(){
  const header=document.querySelector('header');
  const apply=()=>{ if(header) document.body.style.paddingTop = header.offsetHeight+'px'; };
  window.addEventListener('load',apply);
  window.addEventListener('resize',apply);
})();

/* Navbar hamburger */
document.addEventListener('DOMContentLoaded',()=>{
  const toggle=document.querySelector('.menu-toggle');
  const nav=document.querySelector('.navlinks');
  if(toggle&&nav){
    const close=()=>{nav.classList.remove('show');toggle.setAttribute('aria-expanded','false');};
    toggle.addEventListener('click',()=>{
      const open=!nav.classList.contains('show');
      nav.classList.toggle('show',open);
      toggle.setAttribute('aria-expanded',open?'true':'false');
    });
    nav.querySelectorAll('a').forEach(a=>a.addEventListener('click',close));
    document.addEventListener('keydown',e=>{if(e.key==='Escape') close();});
  }
});

/* Toast helper */
(function(){
  const toast = document.getElementById('toast');
  if(!toast) return;
  window.toast = (msg)=>{
    toast.textContent = msg;
    toast.style.display='block';
    requestAnimationFrame(()=> toast.classList.add('show'));
    setTimeout(()=>{ toast.classList.remove('show'); setTimeout(()=> toast.style.display='none', 200); }, 2600);
  };
})();

/* Modal AI: open/close + focus trap + wizard + validare + submit */
(function(){
  const modal   = document.getElementById('aiModal');
  const dialog  = modal?.querySelector('.dialog');
  const openBtn = document.getElementById('openAi');
  const openBtn2= document.getElementById('openAi2');
  const closeBtn= document.getElementById('closeAi');
  const dots    = modal.querySelectorAll('.stepper .dot');
  const panes   = [...modal.querySelectorAll('[data-step]')];
  const prevBtn = document.getElementById('aiPrev');
  const nextBtn = document.getElementById('aiNext');
  const submit  = document.getElementById('aiSubmit');
  const status  = document.getElementById('aiStatus');
  const form    = document.getElementById('aiForm');
  let step = 1, lastFocused;

  if(!modal || !dialog) return;

  const focusable = () => [...dialog.querySelectorAll('a,button,input,select,textarea,[tabindex]:not([tabindex="-1"])')].filter(el=>!el.disabled && el.offsetParent!==null);
  function open(){
    lastFocused = document.activeElement;
    modal.classList.add('show');
    document.body.style.overflow = 'hidden';
    const f = focusable()[0]; f && f.focus();
    show(1);
  }
  function close(){
    modal.classList.remove('show');
    document.body.style.overflow = '';
    lastFocused && lastFocused.focus();
  }
  openBtn?.addEventListener('click', open);
  openBtn2?.addEventListener('click', open);
  closeBtn?.addEventListener('click', close);
  modal.addEventListener('click', e=>{ if(e.target===modal) close(); });
  document.addEventListener('keydown', e=>{
    if(!modal.classList.contains('show')) return;
    if(e.key==='Escape') close();
    if(e.key==='Tab'){
      const els = focusable(); if(!els.length) return;
      const i = els.indexOf(document.activeElement);
      if(e.shiftKey && (i<=0)){ e.preventDefault(); els[els.length-1].focus(); }
      else if(!e.shiftKey && (i===els.length-1)){ e.preventDefault(); els[0].focus(); }
    }
  });

  function show(n){
    panes.forEach(p => p.hidden = +p.dataset.step !== n);
    dots.forEach((d,i) => d.classList.toggle('active', i < n));
    prevBtn.disabled = (n === 1);
    nextBtn.hidden   = (n === panes.length);
    submit.hidden    = (n !== panes.length);
    status.textContent = '';
    step = n;
    form.querySelectorAll('.field-error').forEach(el=>el.classList.remove('field-error'));
    form.querySelectorAll('.error-text').forEach(el=>el.remove());
  }

  function markErrors(scope){
    const required = [...scope.querySelectorAll('[required]')];
    required.forEach(el=>{
      const invalid = (el.type==='checkbox') ? !el.checked : el.value.trim()==='';
      el.classList.toggle('field-error', invalid);
      if(invalid && el.type==='email' && !el.nextElementSibling){
        const p=document.createElement('p'); p.className='error-text'; p.textContent='Te rugăm să introduci un email valid.';
        el.parentElement.appendChild(p);
      }
    });
  }

  function valid(n){
    const pane = panes.find(p => +p.dataset.step === n);
    if(!pane) return true;
    const req = [...pane.querySelectorAll('[required]')];
    return req.every(el => el.type==='checkbox' ? el.checked : el.value.trim()!=='');
  }

  prevBtn.addEventListener('click', ()=> show(step-1));
  nextBtn.addEventListener('click', ()=>{
    const pane = panes.find(p => +p.dataset.step === step);
    markErrors(pane);
    if(!valid(step)){ status.textContent = 'Completează câmpurile obligatorii.'; return; }
    show(step+1);
  });

  const email = form.querySelector('#email');
  email?.addEventListener('input', ()=>{
    if(!email.checkValidity()){
      email.classList.add('field-error');
    }else{
      email.classList.remove('field-error');
      const hint=email.parentElement.querySelector('.error-text'); hint && hint.remove();
    }
  });

  form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    const pane = panes.find(p => +p.dataset.step === step);
    markErrors(pane);
    if(!valid(step)){ status.textContent = 'Confirmă consimțământul GDPR.'; return; }
    status.textContent = 'Se generează meniul tău...';

    const data = Object.fromEntries(new FormData(form).entries());
    try{
      // TODO: înlocuiește cu backend-ul tău (generezi PDF + email)
      const r = await fetch('/api/ai-menu', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ form:data, source:'bp-homepage-modal' })
      });
      if(!r.ok) throw 0;
      status.textContent = 'Gata! Ți-am trimis meniul pe email (verifică și Spam).';
      window.toast && window.toast('Meniul tău a fost trimis pe email ✅');
      form.reset(); show(1);
    }catch{
      status.textContent = 'A apărut o eroare. Te rugăm să reîncerci.';
      window.toast && window.toast('Eroare la generare. Reîncearcă.');
    }
  });
})();
</script>
</body>
</html>
